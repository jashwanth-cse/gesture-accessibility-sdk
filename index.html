<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gesture SDK Test - Clean Integration</title>
  <style>
    /* Zero SDK-specific CSS - everything injected by SDK */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 40px;
      background: #f5f5f5;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      padding: 40px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    h1 {
      color: #333;
      margin-bottom: 20px;
    }

    p {
      line-height: 1.6;
      color: #666;
    }

    button {
      background: #007bff;
      color: white;
      border: none;
      padding: 12px 24px;
      margin: 10px 10px 10px 0;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
    }

    button:hover {
      background: #0056b3;
    }

    .test-area {
      margin-top: 30px;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 4px;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>Gesture SDK - Minimal Integration Test</h1>

    <p><strong>Purpose:</strong> This page has NO SDK-specific CSS. The toast notification should appear styled
      correctly using only the SDK's injected styles.</p>

    <div class="test-area">
      <h2>What to Expect:</h2>
      <ul>
        <li>✅ Toast appears in bottom-right corner</li>
        <li>✅ Clean gaming-style UI with monospace font</li>
        <li>✅ "YES" / "NO" buttons with hover effects</li>
        <li>✅ Auto-dismisses after 15 seconds</li>
        <li>✅ No dependency on page CSS</li>
      </ul>
    </div>

    <div class="test-area">
      <h2>Manual Controls:</h2>
      <button onclick="location.reload()">Reload Page</button>
      <button onclick="clearStorage()">Clear Storage</button>
      <button onclick="checkStatus()">Check Status</button>
    </div>

    <div class="test-area">
      <h2>Console Output:</h2>
      <p>Open DevTools (F12) to see SDK initialization logs</p>
      <div id="status"
        style="background: #fff; padding: 10px; border-left: 3px solid #007bff; margin-top: 10px; font-family: monospace; font-size: 14px;">
        Waiting for SDK...
      </div>
    </div>
  </div>

  <!-- Load SDK -->
  <script src="./dist/gesture-accessibility.min.js"></script>

  <!-- Initialize -->
  <script>
    // Initialize SDK with debug mode
    GestureAccessibility.init({
      apiUrl: "http://localhost:3000",
      siteId: "jashh",
      apiKey: "6b5ef619bc4212854b7b506839fe960cbdca45ba602d9ac1bce511f37e5eaf86",
      debug: true
    });

    function clearStorage() {
      localStorage.removeItem('gesture_accessibility_enabled');
      localStorage.removeItem('gesture_accessibility_blocked');
      sessionStorage.removeItem('gesture_accessibility_dismissed');
      updateStatus('Storage cleared - reload page to see toast again');
    }

    function checkStatus() {
      const enabled = localStorage.getItem('gesture_accessibility_enabled');
      const blocked = localStorage.getItem('gesture_accessibility_blocked');
      const dismissed = sessionStorage.getItem('gesture_accessibility_dismissed');

      updateStatus(`
        Enabled: ${enabled || 'not set'}<br>
        Blocked: ${blocked || 'not set'}<br>
        Dismissed: ${dismissed || 'not set'}
      `);
    }

    function updateStatus(message) {
      document.getElementById('status').innerHTML = message;
    }

    // Log initialization
    console.log('%c[Test Page] SDK initialized', 'color: #007bff; font-weight: bold; font-size: 14px;');
    updateStatus('SDK initialized. Watch for toast in bottom-right corner.');
  </script>
</body>

</html>